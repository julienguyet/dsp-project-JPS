# To simulate the environment 

1. install PostgreSQL 16

2. execute the below queries (or manually create using PgAdmin UI)
    
    CREATE DATABASE jsp;

    CREATE TABLE features (
        id SERIAL PRIMARY KEY,
        "Store" INTEGER,
        "Dept" INTEGER,
        "Date" VARCHAR,
        "Weekly_Sales" FLOAT,
        "Temperature" FLOAT,
        "Fuel_Price" FLOAT,
        "MarkDown1" FLOAT,
        "MarkDown2" FLOAT,
        "MarkDown3" FLOAT,
        "MarkDown4" FLOAT,
        "MarkDown5" FLOAT,
        "CPI" FLOAT,
        "Unemployment" FLOAT,
        "IsHoliday" BOOLEAN,
        "Type" VARCHAR,
        "Size" INTEGER,
        "Sales" FLOAT,
        "pred_date" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    );

    # grant all previlages to the user 

    GRANT SELECT ON TABLE features TO myuser;
    GRANT INSERT, UPDATE, DELETE ON TABLE features TO myuser;

3. in the fastapi_app main.py replace DATABASE_URL with your URL

4. Run the fast API app , in the root folder run 

uvicorn fastapi_app.main:app --reload

5. Run Streamlit app , In the root folder run

streamlit run streamlit_app/user_interface.py --server.enableXsrfProtection=false
